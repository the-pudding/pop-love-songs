import{a as A,t as K}from"./index.a86e5dc1.js";import{K as T}from"./scheduler.13cd9f2d.js";function B(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}function j(t,e){K(t,1,1,()=>{e.delete(t.key)})}function C(t,e){t.f(),j(t,e)}function D(t,e,l,N,X,k,o,Y,g,M,d,S){let h=t.length,u=k.length,c=h;const p={};for(;c--;)p[t[c].key]=c;const f=[],y=new Map,w=new Map,v=[];for(c=u;c--;){const n=S(X,k,c),s=l(n);let i=o.get(s);i?N&&v.push(()=>i.p(n,e)):(i=M(s,n),i.c()),y.set(s,f[c]=i),s in p&&w.set(s,Math.abs(c-p[s]))}const x=new Set,_=new Set;function m(n){A(n,1),n.m(Y,d),o.set(n.key,n),d=n.first,u--}for(;h&&u;){const n=f[u-1],s=t[h-1],i=n.key,a=s.key;n===s?(d=n.first,h--,u--):y.has(a)?!o.has(i)||x.has(i)?m(n):_.has(a)?h--:w.get(i)>w.get(a)?(_.add(i),m(n)):(x.add(a),h--):(g(s,o),h--)}for(;h--;){const n=t[h];y.has(n.key)||g(n,o)}for(;u;)m(f[u-1]);return T(v),f}function E(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function r(t,e,l){this.k=t,this.x=e,this.y=l}r.prototype={constructor:r,scale:function(t){return t===1?this:new r(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new r(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};r.prototype;export{E as d,B as e,C as f,D as u};
